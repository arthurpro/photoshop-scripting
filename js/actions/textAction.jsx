/* global app:false, File:false, ExportOptionsSaveForWeb:false, SaveDocumentType:false, ExportType:false, SaveOptions:false */(function () {  // ease debugging START  var isDebugging = false;  var currentPath = File($.fileName).path + '/';  if (typeof app.actions === 'undefined') {    // "app.actions" namespace does not exist, switch to standalone debugging    isDebugging = true;    app.actions = {};  }  // ease debugging END  // action START  app.actions.textAction = function (config, console) {    // open PSD    var doc = app.open(File(config.processPath + config.filename));    // get text layer    var textLayer = doc.layers.getByName('myText');    // update text    textLayer.textItem.contents = 'I just don\'t care!!';    // export updated PSD for web    (function exportForWeb(filename) {      var exportOptions = new ExportOptionsSaveForWeb();      exportOptions.format = SaveDocumentType.JPEG;      exportOptions.quality = 75;      exportOptions.optimized = true;      try {        doc.exportDocument(filename, ExportType.SAVEFORWEB, exportOptions);      } catch (e) {        console.error('Error saving file. ' + e);      }    }(File(config.processPath + config.filename.split('.')[0] + '.jpg')));    // close PSD document without saving changes    doc.close(SaveOptions.DONOTSAVECHANGES);  };  // action END  // ease debugging START  if (isDebugging) {    app.actions.textAction({      'basePath': currentPath + '../../',      'processPath': currentPath + '../../',      'filename': 'test.psd',      'actionPath': currentPath,      'actionName': 'textAction'    }, {      log: function (msg) {        $.writeln(msg);      },      error: function (msg) {        $.writeln(msg);      }    });  }  // ease debugging END}());